<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="msapplication-tap-highlight" content="no">
    <title>enventure. calendar</title>
    <meta name="description" content="Curated events promoting medical entrepreneurship for Houstonians.">
    <meta name="keywords" content="calendar, education, open, students, entrepreneurship, entrepreneur, houston, medical  devices, pharma,  health  IT,  incubator, medical,  biotech,  biodesign">
    <meta name="author" content="enventure">
    <!-- Favicons -->

    <link rel="apple-touch-icon" sizes="57x57" href="../apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="../favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="../favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="../favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="../favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="../favicon-32x32.png" sizes="32x32">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="../mstile-144x144.png">

    <!-- Android 5 Chrome Color -->
    <meta name="theme-color" content="#0091ea">
    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="../css/ghpages-materialize.css" type="text/css" rel="stylesheet" media="screen,projection">

    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=186083981493796&version=v2.0";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
  </head>
  
  <body>
    <main id="main" class="m-scene">
      <div class="index-banner scene_element scene_element--fadein" id="index-banner">
        <div class="container">
          <div class="env-header">
            <h4 id="tagline">houston's home for entrepreneurs</h4>
            <h2><enventure id="title">enventure.</enventure> <light class="hide-me">2016</light></h2>
          </div>
          
        </div>
      </div>
      <div class="fixed-action-btn">
        <a href="../" class="btn-floating btn-large tooltipped" data-position="left" data-delay="25" data-tooltip="home"><i class="large material-icons">home</i></a>
        <ul>
          <li><a class="btn-floating tooltipped" data-position="left" data-delay="25" data-tooltip="about us" href="../about.html"><i class="material-icons">info</i></a></li>
        </ul>
      </div>

      <div class="scene_element scene_element--fadeinup">
        <div class="container">
          <div id="subscribe" class="section row">
            <div class="col s12 m4">
              <blockquote class="flow-text">sign up for our newsletter to join the community</blockquote>
            </div>
            <div class="col s12 m8">
              <div class="row">
                <form action="http://enventure.us5.list-manage.com/subscribe/post?u=ef4088dbaa790eaf363197ef4&id=7335f3f183" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate subscribe" target="_blank" novalidate="">
                  <div class="input-field col s12">
                    <i class="material-icons prefix">send</i>
                    <input id="email" name="EMAIL" type="email" class="validate">
                    <label for="email">Email Address</label>
                  </div>
                  <div class="col s12 m8 offset-m4">
                    <button id="subbtn" class="right btn waves-effect waves-light" type="submit" name="action"><i class="material-icons left">group_add</i>submit</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="scene_element scene_element--fadeinup">
        <div class="container">
          <h3 class="medium light">Community Calendar</h3>
          <a href="https://calendar.google.com/calendar/render?cid=40gskl3c1kh46nrbeg9p1gnlj0%40group.calendar.google.com"><table id="footer1" class="footer" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td valign="bottom" style="text-align:right;"><div class="subscribe-image" style="display:inline-block;" title="Add to Google Calendar"><div class="logo-plus-button"><div class="logo-plus-button-plus-icon"></div><div class="logo-plus-button-lockup"><span class="logo-plus-button-lockup-text">Calendar</span></div></div></div></td></tr></tbody></table></a>

          <div class="row">
            <div id="myEvent" class="event"></div>
          </div>
          <div class="row">
            <div class="col s12">
              <a class="waves-effect waves-light btn valign" target="blank" href="https://www.google.com/calendar/embed?src=40gskl3c1kh46nrbeg9p1gnlj0%40group.calendar.google.com&ctz=America/Chicago"><i class="mdi-notification-event-note left"></i>Full Calendar</a>
            </div>
          </div>          

        <div class="divider"></div>
        <p class="flow-text">Submit your events to <a href="mailto:team@enventure.org">team@enventure.org</a> to be added to our community calendar and newsletter!</p>
          
        </div>

      </div>

    </main>

    <footer>
      <div class="container">
        <div class="row">
         <!--  <div class="col m6 s12">
            <h5>Write us a letter</h5>
            <p>6500 Main St #1040<br>
            Houston, TX 77030</p>
          </div> -->
          <div class="col m4 s12">
            <h5>Social</h5>
            <ul>
              <li><div class="fb-follow" data-href="https://www.facebook.com/enventuremed" data-width="300" data-colorscheme="light" data-layout="standard" data-show-faces="true"></div></li>
              <li><a href="https://twitter.com/enventuremed" class="twitter-follow-button" data-show-count="false">Follow @enventuremed</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <div class="container">
        Â© 2016 enventure.org, llc
        <span class="right">Questions? We love email!   <a class="white-link" href="mailto:team@enventure.org">team@enventure.org</a></span>
        </div>
      </div>
    </footer>  

  	
    <!--  Scripts-->
    <script type="application/ld+json">
      {
      "@context" : "http://schema.org",
      "@type" : "Organization",
      "name" : "Enventure",
      "url" : "http://www.enventure.org",
      "sameAs" : [
        "http://www.facebook.com/enventuremed",
        "http://www.twitter.com/enventuremed",
        "https://www.instagram.com/explore/tags/enventure/",
        "https://www.linkedin.com/groups/4489096"
      ]
      }
    </script>
    <!--  calendar-->
    <script type="text/javascript">
        // this apiKey is managed in shane's google developer account
        var apiKey = 'AIzaSyA7vutcePGMNNPpjnuUW3JxuCHDy_4_Mm0';
        var scopes = 'https://www.googleapis.com/auth/calendar';

        function handleClientLoad() {
            gapi.client.setApiKey(apiKey);
            makeApiCall();
        }

        function milToStandard(value) {
            if (value !== null && value !== undefined) { //If value is passed in
                if (value.indexOf('AM') > -1 || value.indexOf('PM') > -1) { //If time is already in standard time then don't format.
                    return value;
                } else {
                    if (value.length == 8) { //If value is the expected length for military time then process to standard time.
                        var hour = value.substring(0, 2); //Extract hour
                        var minutes = value.substring(3, 5); //Extract minutes
                        var identifier = 'AM'; //Initialize AM PM identifier

                        if (hour == 12) { //If hour is 12 then should set AM PM identifier to PM
                            identifier = 'PM';
                        }
                        if (hour == 0) { //If hour is 0 then set to 12 for standard time 12 AM
                            hour = 12;
                        }
                        if (hour > 12) { //If hour is greater than 12 then convert to standard 12 hour format and set the AM PM identifier to PM
                            hour = hour - 12;
                            identifier = 'PM';
                        }
                        return hour + ':' + minutes + ' ' + identifier; //Return the constructed standard time
                    } else { //If value is not the expected length than just return the value as is
                        return value;
                    }
                }
            }
        };


        function makeApiCall() {
            gapi.client.load('calendar', 'v3', function() {
                var request = gapi.client.calendar.events.list({
                    // calendar id specific to enventure calendar
                    'calendarId': '40gskl3c1kh46nrbeg9p1gnlj0@group.calendar.google.com',
                    // look up only future events (after current time)
                    'timeMin': new Date().toISOString()
                });
                request.execute(function(resp) {
                    var futureEvents = resp.items
                        // make sure future events are sorted by date from now
                    futureEvents.sort(function(a, b) {
                        return new Date(a.start.dateTime) - new Date(b.start.dateTime);
                    });

                    var featuredFutureEvents = []
                    for (var i = 0; i < futureEvents.length; i++) {
                        if (futureEvents[i].description) {
                            if (futureEvents[i].description.indexOf('[featured]') > -2) {
                                featuredFutureEvents.push(futureEvents[i])
                            }
                        }
                    }

                    var html = []

                    var maxLength = featuredFutureEvents.length < 20 ? featuredFutureEvents.length : 20

                    for (var i = 0; i < maxLength; i++) {
                        var summaryStart = featuredFutureEvents[i].summary.indexOf(']')
                        var summary = featuredFutureEvents[i].summary.slice(summaryStart+1)

                        var labelStart = featuredFutureEvents[i].summary.indexOf('[')
                        var labelPlus = featuredFutureEvents[i].summary.slice(labelStart+1)
                        var label = labelPlus.slice(0, labelPlus.indexOf(']'))

                        var description = featuredFutureEvents[i].description.slice(0, featuredFutureEvents[i].description.indexOf('\n'))
                        var location = featuredFutureEvents[i].location

                        var linkStart = featuredFutureEvents[i].description.indexOf('Link: ') + 5
                        var linkPlus = featuredFutureEvents[i].description.slice(linkStart)
                        if (featuredFutureEvents[i].description.indexOf('Link: ') > -1){
                          var link = linkPlus.slice(0, linkPlus.indexOf('\n'))
                        }
                        else {
                          var link = 'javascript:;'
                        }

                        var dateRaw = featuredFutureEvents[i].start.dateTime
                        var dateStr = new Date(dateRaw).toString()

                        if (i>0){
                          var sameDate = dateStr.slice(4,10) == new Date(featuredFutureEvents[i-1].start.dateTime).toString().slice(4,10)
                        }
                        else {
                          var sameDate = false
                        }

                        var day = dateStr.slice(0, 3)
                        var month = dateStr.slice(4, 7)
                        var dayNum = dateStr.slice(8, 10)
                        var timeRaw = milToStandard(new Date(dateRaw).toLocaleTimeString()).toString().trim()
                        var ampm = timeRaw.indexOf('AM') > -1 ? 'AM' : 'PM'
                        var time = timeRaw.slice(0, timeRaw.length - 6) + ' ' + ampm

                        html.push("<div class=\"col m2 hide-on-small-only scene_element scene_element--fadeinup\">")
                        if (!sameDate){
                          html.push("<h3>" + dayNum + "</h3>")
                          html.push("<h5>" + month + "</h5>")
                        }
                        else{
                          html.push("<h3>&nbsp</h3>")
                        }
                        html.push("</div>")
                        html.push("<div class=\"col s12 hide-on-med-and-up scene_element scene_element--fadeinup\">")
                        html.push("<h5>" + day + ', ' + month + ' ' + dayNum + "</h5>")
                        html.push("</div>")
                        html.push("<div class=\"col s12 m10 scene_element scene_element--fadeinup\">")
                        html.push("<a href=\"" + link + "\"" + " target=\"_blank\">")
                        html.push("<div class=\"card-panel\">")
                        html.push("<h5 class=\"medium\">" + summary)
                        if (featuredFutureEvents[i].summary.indexOf('[')>-1) {
                          html.push("<div class=\"chip right\"><img src=\"../img/"+label+".jpg\" alt=\""+label+"\" onerror=\"this.src='../img/default.png'\">" + label + "</div>")
                        }
                        html.push("</h5>")
                        // fix for absent location
                        if (location) {
                          html.push("<p class=\"light\"><i class=\"material-icons\">watch</i>&nbsp" + time + '<br><i class=\"material-icons\">location_on</i>&nbsp' + location + "</p>")
                        }
                        else {
                          html.push("<p class=\"light\"><i class=\"material-icons\">watch</i>&nbsp" + time + "</p>")
                        }

                        html.push("<p class=\"thin\">" + description + "</p>")
                        
                        if (link != 'javascript:;'){
                          html.push("<div class=\"right-align\"><button class=\"waves-effect waves-light btn-flat\">Learn More + RSVP</button></div>")
                        }
                        html.push("</div>")
                        html.push("</a>")
                        html.push("</div>")

                        document.getElementById("myEvent").innerHTML = html.join("")

                    }
                });
            })
        }
    </script>

    <script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>

    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <!--script src="js/jquery.min.js"></script>
    <!--script src="js/jquery.timeago.js"></script-->  
    <script src="bin/materialize.js"></script>
    <!--script src="jquery.smoothState.js"></script-->
    <!--script src="functions.js"></script--> <!-- smoothstate -->
    <script>
      $(document).ready(function(){
        $('.scrollspy').scrollSpy();
        if ($('nav').length) {
          $('.toc-wrapper').pushpin({ top: $('nav').height() });
        }
        else if ($('#index-banner').length) {
          $('.toc-wrapper').pushpin({ top: $('#index-banner').height() });
        }
        else {
          $('.toc-wrapper').pushpin({ top: 0 });
        }
      });
    </script>

    <!-- Twitter btn -->
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    
    <!--  Google Analytics  -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-41228343-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
